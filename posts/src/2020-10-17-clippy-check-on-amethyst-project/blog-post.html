<h1>How to add a clippy check github action to an amethyst.rs project ?</h1>

<p>You may be familiar with clippy, a lint tool tohelp have a cleaner code, in Rustlang. I recently wanted to add a clippy check github action to an amythyst project.</p>

<p>I had to modify a bit the <a href="https://github.com/marketplace/actions/rust-clippy-check" target="_blank">default action</a> to make it work on my amethyst projects.</p>

<p>So, to be quick, two steps : </p>

<ul>
<li>Be carefull to put the right features on your clippy run args, depending on which instance of server you are running on. (I run on ubuntu so I've put Vulkan)</li>
<li>Install libasound2-dev before running clippy.</li>
</ul>

<p>The result action : </p>

<pre><code>on: pull_request
name: Apply clippy comments to pull request
jobs:
  clippy_check:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions-rs/toolchain@v1
        with:
          toolchain: nightly
          components: clippy
          override: true
      - name: install lib
        run: sudo apt install libasound2-dev
      - run: rustup component add clippy
      - uses: actions-rs/clippy-check@v1
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          args: --features vulkan
</code></pre>

<p>Please note that this action doesn't work for PR that comes from forks, due to token limitations.</p>

<p>Bye bye !</p>

